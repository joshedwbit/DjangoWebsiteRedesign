{% extends 'ideapadapp1/base.html' %}

{% load static %}

{% block title %}
<title>Leave a review</title>
{% endblock %}

{% block content %}
<div class="content-wrapper">
    <div class="review-items-wrapper">
        <div class="write-review-heading">
            <h1 style="text-align:left;">Write a review</h1>
        </div>
        <p style="padding-bottom:20px; padding-top:10px;">
            Reviews are a great way for me to reach new clients, please detail any highlights (or lowlights!) all feedback is massively appreciated.
            <br><br>
            Thanks,
            Joshua
        </p>


        <h4 class="rating-heading">Year group</h4>
        <div class="select-box">
            <div class="options-container">
                <div class="option">
                    <input type="radio" class="radio" id="ks3" name="category">
                    <label for="ks3">KS3</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year10" name="category">
                    <label for="year10">Year 10</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year11" name="category">
                    <label for="year11">Year 11</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="asyear" name="category">
                    <label for="asyear">AS</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="a2year" name="category">
                    <label for="a2year">A2</label>
                </div>
            </div>
            <div class="selected">
                Please select year group
            </div>
        </div>


        <h4 class="rating-heading">Predicted grade</h4>
        <div class="select-box">
            <div class="options-container">
                <div class="option">
                    <input type="radio" class="radio" id="ks3" name="category">
                    <label for="ks3">E</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year10" name="category">
                    <label for="year10">D</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year11" name="category">
                    <label for="year11">C</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="asyear" name="category">
                    <label for="asyear">B</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="a2year" name="category">
                    <label for="a2year">A</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="a2year" name="category">
                    <label for="a2year">A*</label>
                </div>
            </div>
            <div class="selected">
                Please select the grade that was predicted
            </div>
        </div>

        <h4 class="rating-heading">Grade achieved</h4>
        <div class="select-box">
            <div class="options-container">
                <div class="option">
                    <input type="radio" class="radio" id="ks3" name="category">
                    <label for="ks3">E</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year10" name="category">
                    <label for="year10">D</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="year11" name="category">
                    <label for="year11">C</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="asyear" name="category">
                    <label for="asyear">B</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="a2year" name="category">
                    <label for="a2year">A</label>
                </div>
                <div class="option">
                    <input type="radio" class="radio" id="a2year" name="category">
                    <label for="a2year">A*</label>
                </div>
            </div>
            <div class="selected">
                Please select the achieved grade
            </div>
        </div>

        <h4 class="rating-heading">Rating</h4>
        <div class="star-rating">
            <p>How was your experience?</p>
            <div class="star-box">
                <button class="star">&#9734;</button>
                <button class="star">&#9734;</button>
                <button class="star">&#9734;</button>
                <button class="star">&#9734;</button>
                <button class="star">&#9734;</button>
            </div>
            <p class="current-rating">0 of 5</p>
        </div>

        <h4 class="rating-heading">Comments</h4>
        <div class="textarea">
            <textarea id="myfeedback" name="feedbackforme" placeholder="Please provide details of timeframe, sucesses, challenges overcome, etc"></textarea>
        </div>
        <div class="submitbtn">
            <button class="submit">Post</button>
        </div>
    </div>
</div>

<script>
    const allStars=document.querySelectorAll('.star');
    let current_rating=document.querySelector('.current-rating');
    // console.log(allStars);
    allStars.forEach((star,i)=>{
        star.onclick=function(){
            // console.log(star);
            // console.log(i+1);
            let indexed_star_level=i+1;
            let current_star_level=5-i;
            current_rating.innerText=`${current_star_level} of 5`
            // console.log(current_star_level)
            allStars.forEach((star,j)=>{
                // console.log(j+1);
                if(indexed_star_level<=j+1)
                {
                    star.innerHTML='&#9733';
                }else{
                    star.innerHTML='&#9734'
                }
            })
        }
    }
    )
</script>

<script>
    const selectedAll=document.querySelectorAll(".selected");

    selectedAll.forEach(selected=>{
        const optionsContainer=selected.previousElementSibling;
    // dont need all since only 1 selected tag etc
    const optionsList=optionsContainer.querySelectorAll(".option")
    // multiple options tags
    selected.addEventListener("click",()=>{
        if(optionsContainer.classList.contains("active")){
            optionsContainer.classList.remove("active");
        }else{
            let currentActive=document.querySelector(".options-container.active");

            if (currentActive){
                currentActive.classList.remove("active");
            }
            optionsContainer.classList.add("active");
        }
        // optionsContainer.classList.toggle("active");
        // 'toggle' either adds or takes away the active class
    });

    optionsList.forEach(o=>{
        // o references any single element
        o.addEventListener("click",()=>{
            selected.innerHTML=o.querySelector("label").innerHTML;
            optionsContainer.classList.remove("active");
            // once clicked, will give selected the value of the label
        });
    })
    })
</script>



<!-- <script>
    const selected=document.querySelector(".selected");
    const optionsContainer=document.querySelector(".options-container")
    // dont need all since only 1 selected tag etc
    const optionsList=document.querySelectorAll(".option")
    // multiple options tags
    selected.addEventListener("click",()=>{
        optionsContainer.classList.toggle("active");
        // 'toggle' either adds or takes away the active class
    });

    optionsList.forEach(o=>{
        // o references any single element
        o.addEventListener("click",()=>{
            selected.innerHTML=o.querySelector("label").innerHTML;
            optionsContainer.classList.remove("active");
            // once clicked, will give selected the value of the label
        });
    })
</script> -->

</html>



{% endblock %}
